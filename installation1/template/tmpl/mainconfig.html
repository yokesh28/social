<jtmpl:comment>
@version	$Id: mainconfig.html 14401 2010-01-26 14:10:00Z louis $
@package	Joomla
@subpackage	Installation
@copyright	Copyright (C) 2005 - 2010 Open Source Matters. All rights reserved.
@license	GNU/GPL
</jtmpl:comment>

<script language="JavaScript" type="text/javascript">
<!--
	function validateForm( frm, task ) {

		var valid_site = document.formvalidator.isValid(frm, 'vars[siteName]');
		var valid_email = document.formvalidator.isValid(frm, 'vars[adminEmail]');
		var valid_password = document.formvalidator.isValid(frm, 'vars[adminPassword]');
		var confirm_password = document.formvalidator.isValid(frm, 'vars[confirmAdminPassword]');

		var siteName 				= getElementByName( frm, 'vars[siteName]' );
		var adminEmail 				= getElementByName( frm, 'vars[adminEmail]' );
		var adminPassword 			= getElementByName( frm, 'vars[adminPassword]' );
		var confirmAdminPassword 	= getElementByName( frm, 'vars[confirmAdminPassword]' );

		if (siteName.value == '' || !valid_site) {
			alert( '<jtmpl:translate key="warnSiteName" escape="yes">Please enter a site name</jtmpl:translate>' );
		} else if (adminEmail.value == '' || !valid_email) {
			alert( '<jtmpl:translate key="warnEmailAddress" escape="yes">Please enter a valid email address</jtmpl:translate>' );
		} else if (adminPassword.value == '' || !valid_password) {
			alert( '<jtmpl:translate key="warnAdminPassword" escape="yes">Please enter a valid admin password</jtmpl:translate>' );
		} else if (adminPassword.value != confirmAdminPassword.value || !confirm_password) {
			alert( '<jtmpl:translate key="warnAdminPasswordDoesntMatch" escape="yes">Admin password doesn\'t match the confirm admin password field</jtmpl:translate>' );
		} else {
			submitForm( frm, task );
		}
	}

	function clearPasswordFields(frm) {
		var adminPassword 			= getElementByName( frm, 'vars[adminPassword]' );
		var confirmAdminPassword 	= getElementByName( frm, 'vars[confirmAdminPassword]' );

		if( adminPassword.defaultValue == adminPassword.value || confirmAdminPassword.defaultValue == confirmAdminPassword.value ) {
			adminPassword.value 		= '';
			confirmAdminPassword.value 	= '';
		}
		return;
	}
//-->
</script>

<div id="right">
	<div id="rightpad">
		<div id="step">
			<div class="t">
		<div class="t">
			<div class="t"></div>
		</div>
		</div>
		<div class="m">
				<div class="far-right">
					<a class="btn" onclick="submitForm( adminForm, '{PREVIOUS}' );"><i class="icon-circle-arrow-left"></i> Previous</a>
					<a class="btn btn-primary" onclick="validateForm( adminForm, 'saveconfig' );"><i class="icon-circle-arrow-right icon-white"></i> Next</a>
				</div>
				<span class="step"><jtmpl:translate>Main Configuration</jtmpl:translate></span>
			</div>
		<div class="b">
		<div class="b">
			<div class="b"></div>
		</div>
		</div>
	</div>

	<div id="installer">
			<div class="t">
		<div class="t">
			<div class="t"></div>
		</div>
		</div>
		<div class="m">

			<form action="index.php" method="post" name="adminForm" id="adminForm" class="form-validate">
			<div id="installerpad">


		<div class="newsection"></div>
				<h2><jtmpl:translate>Site Name</jtmpl:translate>:</h2>
				<div class="install-text">
					<jtmpl:translate key="enterSiteName">Enter the name of your Joomla! site.</jtmpl:translate>
				</div>
				<div class="install-body">
				<div class="t">
			<div class="t">
				<div class="t"></div>
			</div>
			</div>
			<div class="m">
				<fieldset>
				    <div class="control-group">
				        <label class="control-label" for="siteName"><jtmpl:translate>Site name</jtmpl:translate></label>
				        <div class="controls">
				            <input class="inputbox validate required sitename sitenamemsg" type="text" id="siteName" name="vars[siteName]" size="30" value="{VAR_SITENAME}" />
				        </div>
				    </div>
				</fieldset>
			</div>
			<div class="b">
			<div class="b">
				<div class="b"></div>
			</div>
			</div>
					<div class="clr"></div>
				</div>

		<div class="newsection"></div>
				<h2><jtmpl:translate key="confTitle">Confirm the admin email and password</jtmpl:translate></h2>
				<div class="install-text">
					<jtmpl:translate key="tipConfSteps">
					<p>Enter your e-mail address, this will be the e-mail address of the site
					Super Administrator. If you are migrating you can ignore this section.</p></jtmpl:translate>
				</div>
				<div class="install-body">
				<div class="t">
			<div class="t">
				<div class="t"></div>
			</div>
			</div>
			<div class="m">
						
			    <fieldset>
				    <div class="control-group">
				        <label class="control-label" for="adminEmail"><jtmpl:translate>Your E-mail</jtmpl:translate></label>
				        <div class="controls">
				            <input class="inputbox validate required email emailmsg" type="text" id="adminEmail" name="vars[adminEmail]" value="" size="30" />
				        </div>
				    </div>		
				    
				    <div class="control-group">
				        <label class="control-label" for="adminPassword"><jtmpl:translate>Admin password</jtmpl:translate></label>
				        <div class="controls">
				            <input onfocus="clearPasswordFields( adminForm );" class="inputbox validate required password passwordmsg" type="password" id="adminPassword" name="vars[adminPassword]" value="" size="30"/>
				        </div>
				    </div>
						
					<div class="control-group">
					   <label for="confirmAdminPassword"><jtmpl:translate>Confirm admin password</jtmpl:translate></label>
					   <div class="controls">
					       <input class="inputbox validate required confirmpassword confirmpasswordmsg" type="password" id="confirmAdminPassword" name="vars[confirmAdminPassword]" value="" size="30"/>
					   </div>
					</div>
				</fieldset>
			</div>
			<div class="b">
			<div class="b">
				<div class="b"></div>
			</div>
			</div>
					<div class="clr"></div>
				</div>

			</div>
			<input type="hidden" name="task" value="" />
			</form>


		<div class="clr"></div>
		</div>
		<div class="b">
			<div class="b">
				<div class="b"></div>
			</div>
		</div>
		</div>
	</div>
</div>

<div class="clr"></div>
